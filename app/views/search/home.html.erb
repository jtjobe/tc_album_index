<div class="container">
  <div clas="row">
    <div class="col-sm-12">
      <h1>Search Bar</h1>
    </div>
  </div>

  <div class="row search-bar">
    <div class="col-sm-12 col-lg-4">
      <p>Song Title</p>
      <input id="song" class="catalog-search" type="text"></input>
    </div>

    <div class="col-sm-12 col-lg-4">
      <p>Album Title</p>
      <input id="album" class="catalog-search" type="text"></input>
    </div>

    <div class="col-sm-12 col-lg-4">
      <p>Artist Name</p>
      <input id="artist" class="catalog-search" type="text"></input>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <td>Song</td>
            <td>Album</td>
            <td>Artist</td>
          </tr>
        </thead>
        <tbody id="results">
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>

  // PUT IN ONE LINE?
  var songTitle = null;
  var albumTitle = null;
  var artistName = null;

  $('.catalog-search').on('keyup', function(event) {
    field = event.target.id;
    query = event.target.value;
    if (query.length > 2) {

      switch(field) {
        case 'song':
          songTitle = query;
          break
        case 'album':
          albumTitle = query;
          break
        case 'artist':
          artistName = query;
          break
        }

      updateSongResults();
    }
  });

  var updateSongResults = function() {

    $.ajax({
      url: "/search/",
      method: 'post',
      data: {
        'song_title': songTitle,
        'album_title': albumTitle,
        'artist_name': artistName,
      },
      success: function(data) {
        console.log('data', data)
        updateTableWithResults(data);
      }
    });
  }

  var updateTableWithResults = function(data) {
    clearTable();
    $.each(data, function(index,element) { 
      $('#results')
        .append('<tr>' +
                  '<td>' + element["song"] + '</td>' +
                  '<td>' + element["album"] + '</td>' +
                  '<td>' + element["artist"] + '</td>' +
                '</tr>'
        );
    });
  }

  var clearTable = function(){
    $('#results').html('<tr></tr>')
  }

</script>