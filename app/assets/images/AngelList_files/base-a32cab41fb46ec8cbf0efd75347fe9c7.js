(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;define(["backbone","underscore"],function(n,i){var r;return r=function(n){function r(){return this.toSyncData=t(this.toSyncData,this),r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.parse=function(t){var e;return e=i.result(this,"prefix"),null!=t&&null!=t[e]?t[e]:t},r.prototype.sync=function(t,e,n){var o;return n=i.clone(n),this.trigger("presync",t,e,n),null==n.data&&(o=e.toSyncData(n.attrs||e.toJSON(n),t,n),null!=o&&("create"===t||"update"===t||"patch"===t||"delete"===t?(n.contentType||(n.contentType="application/json"),n.data=JSON.stringify(o)):n.data=o)),"patch"===t&&(t="update"),r.__super__.sync.call(this,t,e,n)},r.prototype.toSyncData=function(t,e,n){var r,o;return o=i.result(this,"prefix"),r=i.extend({},n.parameters),("create"===e||"update"===e||"patch"===e)&&(r[o]||(r[o]=t)),i.isEmpty(r)&&(r=null),r},r}(n.Model),function(t){var n;return n=t.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase(),function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.toString=function(){return t},r.prototype.urlRoot="/"+n+"s",r.prototype.prefix=function(){return n},r}(r)}})}).call(this);