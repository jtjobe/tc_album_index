/*
 * qTip2 - Pretty powerful tooltips - v2.2.1
 * http://qtip2.com
 *
 * Copyright (c) 2014 
 * Released under the MIT licenses
 * http://jquery.org/license
 *
 * Date: Sun Sep 7 2014 12:09 GMT+0100+0100
 * Plugins: tips modal viewport svg imagemap ie6
 * Styles: core basic css3
 */
!function(t,e,n){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(i){"use strict";function r(t,e,n,r){this.id=n,this.target=t,this.tooltip=M,this.elements={target:t},this._id=q+"-"+n,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:i(),disabled:E,attr:r,onTooltip:E,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=E}function o(t){return t===M||"object"!==i.type(t)}function a(t){return!(i.isFunction(t)||t&&t.attr||t.length||"object"===i.type(t)&&(t.jquery||t.then))}function s(t){var e,n,r,s;return o(t)?E:(o(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,o(e)||e.jquery||e.done?e=t.content={text:n=a(e)?E:e}:n=e.text,"ajax"in e&&(r=e.ajax,s=r&&r.once!==E,delete e.ajax,e.text=function(t,e){var o=n||i(this).attr(e.options.content.attr)||"Loading...",a=i.ajax(i.extend({},r,{context:e})).then(r.success,M,r.error).then(function(t){return t&&s&&e.set("content.text",t),t},function(t,n,i){e.destroyed||0===t.status||e.set("content.text",n+": "+i)});return s?o:(e.set("content.text",o),a)}),"title"in e&&(i.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),a(e.title||E)&&(e.title=E))),"position"in t&&o(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&o(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===D?{ready:D}:{event:t.show}),"hide"in t&&o(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&o(t.style)&&(t.style={classes:t.style}),i.each(W,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var n,i=0,r=t,o=e.split(".");r=r[o[i++]];)i<o.length&&(n=r);return[n||t,o.pop()]}function c(t,e){var n,i,r;for(n in this.checks)for(i in this.checks[n])(r=new RegExp(i,"i").exec(t))&&(e.push(r),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,e))}function u(t){return G.concat("").join(t?"-"+t+" ":" ")}function d(t,e){return e>0?setTimeout(i.proxy(t,this),e):void t.call(this)}function h(t){this.tooltip.hasClass(te)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=d.call(this,function(){this.toggle(D,t)},this.options.show.delay))}function p(t){if(!this.tooltip.hasClass(te)&&!this.destroyed){var e=i(t.relatedTarget),n=e.closest(Y)[0]===this.tooltip[0],r=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(n||r))try{t.preventDefault(),t.stopImmediatePropagation()}catch(o){}else this.timers.hide=d.call(this,function(){this.toggle(E,t)},this.options.hide.delay,this)}}function f(t){!this.tooltip.hasClass(te)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=d.call(this,function(){this.hide(t)},this.options.hide.inactive))}function g(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(t,n,r){i(e.body).delegate(t,(n.split?n:n.join("."+q+" "))+"."+q,function(){var t=N.api[i.attr(this,V)];t&&!t.disabled&&r.apply(t,arguments)})}function v(t,n,o){var a,l,c,u,d,h=i(e.body),p=t[0]===e?h:t,f=t.metadata?t.metadata(o.metadata):M,g="html5"===o.metadata.type&&f?f[o.metadata.name]:M,m=t.data(o.metadata.name||"qtipopts");try{m="string"==typeof m?i.parseJSON(m):m}catch(v){}if(u=i.extend(D,{},N.defaults,o,"object"==typeof m?s(m):M,s(g||f)),l=u.position,u.id=n,"boolean"==typeof u.content.text){if(c=t.attr(u.content.attr),u.content.attr===E||!c)return E;u.content.text=c}if(l.container.length||(l.container=h),l.target===E&&(l.target=p),u.show.target===E&&(u.show.target=p),u.show.solo===D&&(u.show.solo=l.container.closest("body")),u.hide.target===E&&(u.hide.target=p),u.position.viewport===D&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new C(l.at,D),l.my=new C(l.my),t.data(q))if(u.overwrite)t.qtip("destroy",!0);else if(u.overwrite===E)return E;return t.attr(U,n),u.suppress&&(d=t.attr("title"))&&t.removeAttr("title").attr(ne,d).attr("title",""),a=new r(t,u,n,!!c),t.data(q,a),a}function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e){var i,r,o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+ve.join(o+" ")+o).split(" "),s=0;if(me[e])return t.css(me[e]);for(;i=a[s++];)if((r=t.css(i))!==n)return me[e]=i,r}function _(t,e){return Math.ceil(parseFloat(b(t,e)))}function x(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function w(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function A(t){this._ns="ie6",this.init(this.qtip=t)}var N,S,C,k,T,D=!0,E=!1,M=null,I="x",P="y",$="width",L="height",R="top",O="left",F="bottom",j="right",B="center",z="flipinvert",H="shift",W={},q="qtip",U="data-hasqtip",V="data-qtip-id",G=["ui-widget","ui-tooltip"],Y="."+q,X="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),K=q+"-fixed",Q=q+"-default",Z=q+"-focus",J=q+"-hover",te=q+"-disabled",ee="_replacedByqTip",ne="oldtitle",ie={ie:function(){for(var t=4,n=e.createElement("div");(n.innerHTML="<!--[if gt IE "+t+"]><i></i><![endif]-->")&&n.getElementsByTagName("i")[0];t+=1);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||E};S=r.prototype,S._when=function(t){return i.when.apply(i,t)},S.render=function(t){if(this.rendered||this.destroyed)return this;var e,n=this,r=this.options,o=this.cache,a=this.elements,s=r.content.text,l=r.content.title,c=r.content.button,u=r.position,d=("."+this._id+" ",[]);return i.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:u.my,at:u.at}).my),this.tooltip=a.tooltip=e=i("<div/>",{id:this._id,"class":[q,Q,r.style.classes,o.posClass].join(" "),width:r.style.width||"",height:r.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":E,"aria-describedby":this._id+"-content","aria-hidden":D}).toggleClass(te,this.disabled).attr(V,this.id).data(q,this).appendTo(u.container).append(a.content=i("<div />",{"class":q+"-content",id:this._id+"-content","aria-atomic":D})),this.rendered=-1,this.positioning=D,l&&(this._createTitle(),i.isFunction(l)||d.push(this._updateTitle(l,E))),c&&this._createButton(),i.isFunction(s)||d.push(this._updateContent(s,E)),this.rendered=D,this._setWidget(),i.each(W,function(t){var e;"render"===this.initialize&&(e=this(n))&&(n.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){n._trigger("render"),n.positioning=E,n.hiddenDuringWait||!r.show.ready&&!t||n.toggle(D,o.event,E),n.hiddenDuringWait=E}),N.api[this.id]=this,this},S.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=D;var t,e=this.target,n=e.attr(ne);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,function(){this.destroy&&this.destroy()});for(t in this.timers)clearTimeout(this.timers[t]);e.removeData(q).removeAttr(V).removeAttr(U).removeAttr("aria-describedby"),this.options.suppress&&n&&e.attr("title",n).removeAttr(ne),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=M,delete N.api[this.id]}}return this.destroyed?this.target:(t===D&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",i.proxy(e,this)),!this.triggering&&this.hide()),this.target)},k=S.checks={builtin:{"^id$":function(t,e,n,r){var o=n===D?N.nextid:n,a=q+"-"+o;o!==E&&o.length>0&&!i("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=r},"^prerender":function(t,e,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,n){this._updateContent(n)},"^content.attr$":function(t,e,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(t,e,n){return n?(n&&!this.elements.title&&this._createTitle(),void this._updateTitle(n)):this._removeTitle()},"^content.button$":function(t,e,n){this._updateButton(n)},"^content.title.(text|button)$":function(t,e,n){this.set("content."+e,n)},"^position.(my|at)$":function(t,e,n){"string"==typeof n&&(this.position[e]=t[e]=new C(n,"at"===e))},"^position.container$":function(t,e,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(t,e,n){n&&(!this.rendered&&this.render(D)||this.toggle(D))},"^style.classes$":function(t,e,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(t,e,n){this.rendered&&this.tooltip.css(e,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,n){this.rendered&&this.tooltip.toggleClass(Q,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+e,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},S.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),n=e[0][e[1]];return n.precedance?n.string():n};var re=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,oe=/^prerender|show\.ready/i;S.set=function(t,e){if(this.destroyed)return this;{var n,r=this.rendered,o=E,a=this.options;this.checks}return"string"==typeof t?(n=t,t={},t[n]=e):t=i.extend({},t),i.each(t,function(e,n){if(r&&oe.test(e))return void delete t[e];var s,c=l(a,e.toLowerCase());s=c[0][c[1]],c[0][c[1]]=n&&n.nodeType?i(n):n,o=re.test(e)||o,t[e]=[c[0],c[1],n,s]}),s(a),this.positioning=D,i.each(t,i.proxy(c,this)),this.positioning=E,this.rendered&&this.tooltip[0].offsetWidth>0&&o&&this.reposition("mouse"===a.position.target?M:this.cache.event),this},S._update=function(t,e){var n=this,r=this.cache;return this.rendered&&t?(i.isFunction(t)&&(t=t.call(this.elements.target,r.event,this)||""),i.isFunction(t.then)?(r.waiting=D,t.then(function(t){return r.waiting=E,n._update(t,e)},M,function(t){return n._update(t,e)})):t===E||!t&&""!==t?E:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(r.event,!t.length)}))):E},S._waitForContent=function(t){var e=this.cache;return e.waiting=D,(i.fn.imagesLoaded?t.imagesLoaded():i.Deferred().resolve([])).done(function(){e.waiting=E}).promise()},S._updateContent=function(t,e){this._update(t,this.elements.content,e)},S._updateTitle=function(t,e){this._update(t,this.elements.title,e)===E&&this._removeTitle(E)},S._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=i("<div />",{"class":q+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(t.title=i("<div />",{id:e,"class":q+"-title","aria-atomic":D})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){i(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){i(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},S._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=M,t!==E&&this.reposition())},S._createPosClass=function(t){return q+"-pos-"+(t||this.options.position.my).abbrev()},S.reposition=function(n,r){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=D;var o,a,s,l,c=this.cache,u=this.tooltip,d=this.options.position,h=d.target,p=d.my,f=d.at,g=d.viewport,m=d.container,v=d.adjust,y=v.method.split(" "),b=u.outerWidth(E),_=u.outerHeight(E),x=0,w=0,A=u.css("position"),N={left:0,top:0},S=u[0].offsetWidth>0,C=n&&"scroll"===n.type,k=i(t),T=m[0].ownerDocument,M=this.mouse;if(i.isArray(h)&&2===h.length)f={x:O,y:R},N={left:h[0],top:h[1]};else if("mouse"===h)f={x:O,y:R},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?n=c.origin:!n||n&&("resize"===n.type||"scroll"===n.type)?n=c.event:M&&M.pageX&&(n=M),"static"!==A&&(N=m.offset()),T.body.offsetWidth!==(t.innerWidth||T.documentElement.clientWidth)&&(a=i(e.body).offset()),N={left:n.pageX-N.left+(a&&a.left||0),top:n.pageY-N.top+(a&&a.top||0)},v.mouse&&C&&M&&(N.left-=(M.scrollX||0)-k.scrollLeft(),N.top-=(M.scrollY||0)-k.scrollTop());else{if("event"===h?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?c.target=i(n.target):n.target||(c.target=this.elements.target):"event"!==h&&(c.target=i(h.jquery?h:this.elements.target)),h=c.target,h=i(h).eq(0),0===h.length)return this;h[0]===e||h[0]===t?(x=ie.iOS?t.innerWidth:h.width(),w=ie.iOS?t.innerHeight:h.height(),h[0]===t&&(N={top:(g||h).scrollTop(),left:(g||h).scrollLeft()})):W.imagemap&&h.is("area")?o=W.imagemap(this,h,f,W.viewport?y:E):W.svg&&h&&h[0].ownerSVGElement?o=W.svg(this,h,f,W.viewport?y:E):(x=h.outerWidth(E),w=h.outerHeight(E),N=h.offset()),o&&(x=o.width,w=o.height,a=o.offset,N=o.position),N=this.reposition.offset(h,N,m),(ie.iOS>3.1&&ie.iOS<4.1||ie.iOS>=4.3&&ie.iOS<4.33||!ie.iOS&&"fixed"===A)&&(N.left-=k.scrollLeft(),N.top-=k.scrollTop()),(!o||o&&o.adjustable!==E)&&(N.left+=f.x===j?x:f.x===B?x/2:0,N.top+=f.y===F?w:f.y===B?w/2:0)}return N.left+=v.x+(p.x===j?-b:p.x===B?-b/2:0),N.top+=v.y+(p.y===F?-_:p.y===B?-_/2:0),W.viewport?(s=N.adjusted=W.viewport(this,N,d,x,w,b,_),a&&s.left&&(N.left+=a.left),a&&s.top&&(N.top+=a.top),s.my&&(this.position.my=s.my)):N.adjusted={left:0,top:0},c.posClass!==(l=this._createPosClass(this.position.my))&&u.removeClass(c.posClass).addClass(c.posClass=l),this._trigger("move",[N,g.elem||g],n)?(delete N.adjusted,r===E||!S||isNaN(N.left)||isNaN(N.top)||"mouse"===h||!i.isFunction(d.effect)?u.css(N):i.isFunction(d.effect)&&(d.effect.call(u,this,i.extend({},N)),u.queue(function(t){i(this).css({opacity:"",height:""}),ie.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=E,this):this},S.reposition.offset=function(t,n,r){function o(t,e){n.left+=e*t.scrollLeft(),n.top+=e*t.scrollTop()}if(!r[0])return n;var a,s,l,c,u=i(t[0].ownerDocument),d=!!ie.ie&&"CSS1Compat"!==e.compatMode,h=r[0];do"static"!==(s=i.css(h,"position"))&&("fixed"===s?(l=h.getBoundingClientRect(),o(u,-1)):(l=i(h).position(),l.left+=parseFloat(i.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(i.css(h,"borderTopWidth"))||0),n.left-=l.left+(parseFloat(i.css(h,"marginLeft"))||0),n.top-=l.top+(parseFloat(i.css(h,"marginTop"))||0),a||"hidden"===(c=i.css(h,"overflow"))||"visible"===c||(a=i(h)));while(h=h.offsetParent);return a&&(a[0]!==u[0]||d)&&o(a,1),n};var ae=(C=S.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,B).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var n=t.charAt(0);this.precedance="t"===n||"b"===n?P:I}).prototype;ae.invert=function(t,e){this[t]=this[t]===O?j:this[t]===j?O:e||this[t]},ae.string=function(t){var e=this.x,n=this.y,i=e!==n?"center"===e||"center"!==n&&(this.precedance===P||this.forceY)?[n,e]:[e,n]:[e];return t!==!1?i.join(" "):i},ae.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},ae.clone=function(){return new C(this.string(),this.forceY)},S.toggle=function(t,n){var r=this.cache,o=this.options,a=this.tooltip;if(n){if(/over|enter/.test(n.type)&&r.event&&/out|leave/.test(r.event.type)&&o.show.target.add(n.target).length===o.show.target.length&&a.has(n.relatedTarget).length)return this;r.event=i.event.fix(n)}if(this.waiting&&!t&&(this.hiddenDuringWait=D),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,u=t?"show":"hide",d=this.options[u],h=(this.options[t?"hide":"show"],this.options.position),p=this.options.content,f=this.tooltip.css("width"),g=this.tooltip.is(":visible"),m=t||1===d.target.length,v=!n||d.target.length<2||r.target[0]===n.target;return(typeof t).search("boolean|number")&&(t=!g),s=!a.is(":animated")&&g===t&&v,l=s?M:!!this._trigger(u,[90]),this.destroyed?this:(l!==E&&t&&this.focus(n),!l||s?this:(i.attr(a[0],"aria-hidden",!t),t?(this.mouse&&(r.origin=i.event.fix(this.mouse)),i.isFunction(p.text)&&this._updateContent(p.text,E),i.isFunction(p.title)&&this._updateTitle(p.title,E),!T&&"mouse"===h.target&&h.adjust.mouse&&(i(e).bind("mousemove."+q,this._storeMouse),T=D),f||a.css("width",a.outerWidth(E)),this.reposition(n,arguments[2]),f||a.css("width",""),d.solo&&("string"==typeof d.solo?i(d.solo):i(Y,d.solo)).not(a).not(d.target).qtip("hide",i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete r.origin,T&&!i(Y+'[tracking="true"]:visible',d.solo).not(a).length&&(i(e).unbind("mousemove."+q),T=E),this.blur(n)),c=i.proxy(function(){t?(ie.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof d.autofocus&&i(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),d.effect===E||m===E?(a[u](),c()):i.isFunction(d.effect)?(a.stop(1,1),d.effect.call(a,this),a.queue("fx",function(t){c(),t()})):a.fadeTo(90,t?1:0,c),t&&d.target.trigger("qtip-"+this.id+"-inactive"),this))},S.show=function(t){return this.toggle(D,t)},S.hide=function(t){return this.toggle(E,t)},S.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=i(Y),n=this.tooltip,r=parseInt(n[0].style.zIndex,10),o=N.zindex+e.length;return n.hasClass(Z)||this._trigger("focus",[o],t)&&(r!==o&&(e.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+Z).qtip("blur",t)),n.addClass(Z)[0].style.zIndex=o),this},S.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Z),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},S.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(te):this.disabled):"boolean"!=typeof t&&(t=D),this.rendered&&this.tooltip.toggleClass(te,t).attr("aria-disabled",t),this.disabled=!!t,this)},S.enable=function(){return this.disable(E)},S._createButton=function(){var t=this,e=this.elements,n=e.tooltip,r=this.options.content.button,o="string"==typeof r,a=o?r:"Close tooltip";e.button&&e.button.remove(),e.button=r.jquery?r:i("<a />",{"class":"qtip-close "+(this.options.style.widget?"":q+"-icon"),title:a,"aria-label":a}).prepend(i("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||n).attr("role","button").click(function(e){return n.hasClass(te)||t.hide(e),E})},S._updateButton=function(t){if(!this.rendered)return E;var e=this.elements.button;t?this._createButton():e.remove()},S._setWidget=function(){var t=this.options.style.widget,e=this.elements,n=e.tooltip,i=n.hasClass(te);n.removeClass(te),te=t?"ui-state-disabled":"qtip-disabled",n.toggleClass(te,i),n.toggleClass("ui-helper-reset "+u(),t).toggleClass(Q,this.options.style.def&&!t),e.content&&e.content.toggleClass(u("content"),t),e.titlebar&&e.titlebar.toggleClass(u("header"),t),e.button&&e.button.toggleClass(q+"-icon",!t)},S._storeMouse=function(t){return(this.mouse=i.event.fix(t)).type="mousemove",this},S._bind=function(t,e,n,r,o){if(t&&n&&e.length){var a="."+this._id+(r?"-"+r:"");return i(t).bind((e.split?e:e.join(a+" "))+a,i.proxy(n,o||this)),this}},S._unbind=function(t,e){return t&&i(t).unbind("."+this._id+(e?"-"+e:"")),this},S._trigger=function(t,e,n){var r=i.Event("tooltip"+t);return r.originalEvent=n&&i.extend({},n)||this.cache.event||M,this.triggering=t,this.tooltip.trigger(r,[this].concat(e||[])),this.triggering=E,!r.isDefaultPrevented()},S._bindEvents=function(t,e,n,r,o,a){var s=n.filter(r).add(r.filter(n)),l=[];s.length&&(i.each(e,function(e,n){var r=i.inArray(n,t);r>-1&&l.push(t.splice(r,1)[0])}),l.length&&(this._bind(s,l,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?a:o).call(this,t)}),n=n.not(s),r=r.not(s))),this._bind(n,t,o),this._bind(r,e,a)},S._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?E:(this.cache.event=t&&i.event.fix(t),this.cache.target=t&&i(t.target),clearTimeout(this.timers.show),void(this.timers.show=d.call(this,function(){this.render("object"==typeof t||n.show.ready)},n.prerender?0:n.show.delay)))}var n=this.options,r=n.show.target,o=n.hide.target,a=n.show.event?i.trim(""+n.show.event).split(" "):[],s=n.hide.event?i.trim(""+n.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(n.show.event)&&!/mouse(out|leave)/i.test(n.hide.event)&&s.push("mouseleave"),this._bind(r,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=D}),this._bindEvents(a,s,r,o,e,function(){return this.timers?void clearTimeout(this.timers.show):E}),(n.show.ready||n.prerender)&&e.call(this,t)},S._assignEvents=function(){var n=this,r=this.options,o=r.position,a=this.tooltip,s=r.show.target,l=r.hide.target,c=o.container,u=o.viewport,d=i(e),m=(i(e.body),i(t)),v=r.show.event?i.trim(""+r.show.event).split(" "):[],y=r.hide.event?i.trim(""+r.hide.event).split(" "):[];i.each(r.events,function(t,e){n._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)}),/mouse(out|leave)/i.test(r.hide.event)&&"window"===r.hide.leave&&this._bind(d,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),r.hide.fixed?l=l.add(a.addClass(K)):/mouse(over|enter)/i.test(r.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+r.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=i(t.target),n=this.rendered&&!this.tooltip.hasClass(te)&&this.tooltip[0].offsetWidth>0,r=e.parents(Y).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||r||this.target.has(e[0]).length||!n||this.hide(t)}),"number"==typeof r.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),N.inactiveEvents,f)),this._bindEvents(v,y,s,l,h,p),this._bind(s.add(a),"mousemove",function(t){if("number"==typeof r.hide.distance){var e=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(t.pageX-e.pageX)>=n||i(t.pageY-e.pageY)>=n)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(r.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):E}),this._bind(d,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(te)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||u.length)&&this._bind(i.event.special.resize?u:m,"resize",g),o.adjust.scroll&&this._bind(m.add(o.container),"scroll",g)},S._unassignEvents=function(){var n=this.options,r=n.show.target,o=n.hide.target,a=i.grep([this.elements.target[0],this.rendered&&this.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],t,e],function(t){return"object"==typeof t});r&&r.toArray&&(a=a.concat(r.toArray())),o&&o.toArray&&(a=a.concat(o.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},i(function(){m(Y,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,n=i(t.currentTarget),r=i(t.relatedTarget||t.target),o=this.options;e?(this.focus(t),n.hasClass(K)&&!n.hasClass(te)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.position.adjust.mouse&&o.hide.event&&o.show.target&&!r.closest(o.show.target[0]).length&&this.hide(t),n.toggleClass(J,e)}),m("["+V+"]",X,f)}),N=i.fn.qtip=function(t,e,r){var o=(""+t).toLowerCase(),a=M,l=i.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?i.data(this[0],q):M;return!arguments.length&&u||"api"===o?u:"string"==typeof t?(this.each(function(){var t=i.data(this,q);if(!t)return D;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==o&&"options"!==o)t[o]&&t[o].apply(t,l);else{if(r===n&&!i.isPlainObject(e))return a=t.get(e),E;t.set(e,r)}}),a!==M?a:this):"object"!=typeof t&&arguments.length?void 0:(u=s(i.extend(D,{},t)),this.each(function(t){var e,n;return n=i.isArray(u.id)?u.id[t]:u.id,n=!n||n===E||n.length<1||N.api[n]?N.nextid++:n,e=v(i(this),n,u),e===E?D:(N.api[n]=e,i.each(W,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(c))}))},i.qtip=r,N.api={},i.each({attr:function(t,e){if(this.length){var n=this[0],r="title",o=i.data(n,"qtip");if(t===r&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?i.attr(n,ne):(o&&o.options.content.attr===r&&o.cache.attr&&o.set("content.text",e),this.attr(ne,e))}return i.fn["attr"+ee].apply(this,arguments)},clone:function(t){var e=(i([]),i.fn["clone"+ee].apply(this,arguments));return t||e.filter("["+ne+"]").attr("title",function(){return i.attr(this,ne)}).removeAttr(ne),e}},function(t,e){if(!e||i.fn[t+ee])return D;var n=i.fn[t+ee]=i.fn[t];i.fn[t]=function(){return e.apply(this,arguments)||n.apply(this,arguments)}}),i.ui||(i["cleanData"+ee]=i.cleanData,i.cleanData=function(t){for(var e,n=0;(e=i(t[n])).length;n++)if(e.attr(U))try{e.triggerHandler("removeqtip")}catch(r){}i["cleanData"+ee].apply(this,arguments)}),N.version="2.2.1",N.nextid=0,N.inactiveEvents=X,N.zindex=15e3,N.defaults={prerender:E,id:E,overwrite:D,suppress:D,content:{text:D,attr:"title",title:E,button:E},position:{my:"top left",at:"bottom right",target:E,container:E,viewport:E,adjust:{x:0,y:0,mouse:D,scroll:D,resize:D,method:"flipinvert flipinvert"},effect:function(t,e){i(this).animate(e,{duration:200,queue:E})}},show:{target:E,event:"mouseenter",effect:D,delay:90,solo:E,ready:E,autofocus:E},hide:{target:E,event:"mouseleave",effect:D,delay:0,fixed:E,inactive:E,leave:"window",distance:E},style:{classes:"",widget:E,width:E,height:E,def:D},events:{render:M,move:M,show:M,hide:M,toggle:M,visible:M,hidden:M,focus:M,blur:M}};var se,le="margin",ce="border",ue="color",de="background-color",he="transparent",pe=" !important",fe=!!e.createElement("canvas").getContext,ge=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,me={},ve=["Webkit","O","Moz","ms"];if(fe)var ye=t.devicePixelRatio||1,be=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),_e=ye/be;else var xe=function(t,e,n){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'};i.extend(x.prototype,{init:function(t){var e,n;n=this.element=t.elements.tip=i("<div />",{"class":q+"-tip"}).prependTo(t.tooltip),fe?(e=i("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=xe("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(i("*",n).add(n),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===R||t.y===B&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(D))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===E||e===E?t=E:t===D?t=new C(e.string()):t.string||(t=new C(t),t.fixed=D),t},_parseWidth:function(t,e,n){var i=this.qtip.elements,r=ce+y(e)+"Width";return(n?_(n,r):_(i.content,r)||_(this._useTitle(t)&&i.titlebar||i.content,r)||_(i.tooltip,r))||0},_parseRadius:function(t){var e=this.qtip.elements,n=ce+y(t.y)+y(t.x)+"Radius";return ie.ie<9?0:_(this._useTitle(t)&&e.titlebar||e.content,n)||_(e.tooltip,n)||0},_invalidColour:function(t,e,n){var i=t.css(e);return!i||n&&i===t.css(n)||ge.test(i)?E:i},_parseColours:function(t){var e=this.qtip.elements,n=this.element.css("cssText",""),r=ce+y(t[t.precedance])+y(ue),o=this._useTitle(t)&&e.titlebar||e.content,a=this._invalidColour,s=[];return s[0]=a(n,de)||a(o,de)||a(e.content,de)||a(e.tooltip,de)||n.css(de),s[1]=a(n,r,ue)||a(o,r,ue)||a(e.content,r,ue)||a(e.tooltip,r,ue)||e.tooltip.css(r),i("*",n).add(n).css("cssText",de+":"+he+pe+";"+ce+":0"+pe+";"),s},_calculateSize:function(t){var e,n,i,r=t.precedance===P,o=this.options.width,a=this.options.height,s="c"===t.abbrev(),l=(r?o:a)*(s?.5:1),c=Math.pow,u=Math.round,d=Math.sqrt(c(l,2)+c(a,2)),h=[this.border/l*d,this.border/a*d];return h[2]=Math.sqrt(c(h[0],2)-c(this.border,2)),h[3]=Math.sqrt(c(h[1],2)-c(this.border,2)),e=d+h[2]+h[3]+(s?0:h[0]),n=e/d,i=[u(n*o),u(n*a)],r?i:i.reverse()},_calculateTip:function(t,e,n){n=n||1,e=e||this.size;var i=e[0]*n,r=e[1]*n,o=Math.ceil(i/2),a=Math.ceil(r/2),s={br:[0,0,i,r,i,0],bl:[0,0,i,0,0,r],tr:[0,r,i,0,i,r],tl:[0,0,0,r,i,r],tc:[0,r,o,0,i,r],bc:[0,0,i,0,o,r],rc:[0,0,i,a,0,r],lc:[i,0,i,r,0,a]};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(fe||ie.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,n){if(!this.enabled)return this;var r,o,a,s,l,c,u,d,h=this.qtip.elements,p=this.element,f=p.children(),g=this.options,m=this.size,v=g.mimic,y=Math.round;e||(e=this.qtip.cache.corner||this.corner),v===E?v=e:(v=new C(v),v.precedance=e.precedance,"inherit"===v.x?v.x=e.x:"inherit"===v.y?v.y=e.y:v.x===v.y&&(v[e.precedance]=e[e.precedance])),o=v.precedance,e.precedance===I?this._swapDimensions():this._resetDimensions(),r=this.color=this._parseColours(e),r[1]!==he?(d=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>d&&!ge.test(r[1])&&(r[0]=r[1]),this.border=d=g.border!==D?g.border:d):this.border=d=0,u=this.size=this._calculateSize(e),p.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),c=e.precedance===P?[y(v.x===O?d:v.x===j?u[0]-m[0]-d:(u[0]-m[0])/2),y(v.y===R?u[1]-m[1]:0)]:[y(v.x===O?u[0]-m[0]:0),y(v.y===R?d:v.y===F?u[1]-m[1]-d:(u[1]-m[1])/2)],fe?(a=f[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),s=this._calculateTip(v,m,_e),l=this._calculateTip(v,this.size,_e),f.attr($,u[0]*_e).attr(L,u[1]*_e),f.css($,u[0]).css(L,u[1]),this._drawCoords(a,l),a.fillStyle=r[1],a.fill(),a.translate(c[0]*_e,c[1]*_e),this._drawCoords(a,s),a.fillStyle=r[0],a.fill()):(s=this._calculateTip(v),s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",c[2]=d&&/^(r|b)/i.test(e.string())?8===ie.ie?2:1:0,f.css({coordsize:u[0]+d+" "+(u[1]+d),antialias:""+(v.string().indexOf(B)>-1),left:c[0]-c[2]*Number(o===I),top:c[1]-c[2]*Number(o===P),width:u[0]+d,height:u[1]+d}).each(function(t){var e=i(this);e[e.prop?"prop":"attr"]({coordsize:u[0]+d+" "+(u[1]+d),path:s,fillcolor:r[0],filled:!!t,stroked:!t}).toggle(!(!d&&!t)),!t&&e.html(xe("stroke",'weight="'+2*d+'px" color="'+r[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),n!==E&&this.calculate(e,u)},calculate:function(t,e){if(!this.enabled)return E;var n,r,o=this,a=this.qtip.elements,s=this.element,l=this.options.offset,c=(a.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,n=t.precedance,e=e||this._calculateSize(t),r=[t.x,t.y],n===I&&r.reverse(),i.each(r,function(i,r){var s,u,d;r===B?(s=n===P?O:R,c[s]="50%",c[le+"-"+s]=-Math.round(e[n===P?0:1]/2)+l):(s=o._parseWidth(t,r,a.tooltip),u=o._parseWidth(t,r,a.content),d=o._parseRadius(t),c[r]=Math.max(-o.border,i?u:l+(d>s?d:-s)))}),c[t[n]]-=e[n===I?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(t,e,i){function r(t,e,n,i,r){t===H&&c.precedance===e&&u[i]&&c[n]!==B?c.precedance=c.precedance===I?P:I:t!==H&&u[i]&&(c[e]=c[e]===B?u[i]>0?i:r:c[e]===i?r:i)}function o(t,e,r){c[t]===B?g[le+"-"+e]=f[t]=a[le+"-"+e]-u[e]:(s=a[r]!==n?[u[e],-a[e]]:[-u[e],a[e]],(f[t]=Math.max(s[0],s[1]))>s[0]&&(i[e]-=u[e],f[e]=E),g[a[r]!==n?r:e]=f[t])}if(this.enabled){var a,s,l=e.cache,c=this.corner.clone(),u=i.adjusted,d=e.options.position.adjust.method.split(" "),h=d[0],p=d[1]||d[0],f={left:E,top:E,x:0,y:0},g={};
this.corner.fixed!==D&&(r(h,I,P,O,j),r(p,P,I,R,F),(c.string()!==l.corner.string()||l.cornerTop!==u.top||l.cornerLeft!==u.left)&&this.update(c,E)),a=this.calculate(c),a.right!==n&&(a.left=-a.right),a.bottom!==n&&(a.top=-a.bottom),a.user=this.offset,(f.left=h===H&&!!u.left)&&o(I,O,j),(f.top=p===H&&!!u.top)&&o(P,R,F),this.element.css(g).toggle(!(f.x&&f.y||c.x===B&&f.y||c.y===B&&f.x)),i.left-=a.left.charAt?a.user:h!==H||f.top||!f.left&&!f.top?a.left+this.border:0,i.top-=a.top.charAt?a.user:p!==H||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),se=W.tip=function(t){return new x(t,t.options.style.tip)},se.initialize="render",se.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=D)}},k.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},i.extend(D,N.defaults,{style:{tip:{corner:D,mimic:E,width:6,height:6,border:D,offset:0}}});var we,Ae,Ne="qtip-modal",Se="."+Ne;Ae=function(){function t(t){if(i.expr[":"].focusable)return i.expr[":"].focusable;var e,n,r,o=!isNaN(i.attr(t,"tabindex")),a=t.nodeName&&t.nodeName.toLowerCase();return"area"===a?(e=t.parentNode,n=e.name,t.href&&n&&"map"===e.nodeName.toLowerCase()?(r=i("img[usemap=#"+n+"]")[0],!!r&&r.is(":visible")):!1):/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||o:o}function n(t){u.length<1&&t.length?t.not("body").blur():u.first().focus()}function r(t){if(l.is(":visible")){var e,r=i(t.target),s=o.tooltip,c=r.closest(Y);e=c.length<1?E:parseInt(c[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),e||r.closest(Y)[0]===s[0]||n(r),a=t.target===u[u.length-1]}}var o,a,s,l,c=this,u={};i.extend(c,{init:function(){return l=c.elem=i("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return E}}).hide(),i(e.body).bind("focusin"+Se,r),i(e).bind("keydown"+Se,function(t){o&&o.options.show.modal.escape&&27===t.keyCode&&o.hide(t)}),l.bind("click"+Se,function(t){o&&o.options.show.modal.blur&&o.hide(t)}),c},update:function(e){o=e,u=e.options.show.modal.stealfocus!==E?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,r,a){var u=(i(e.body),t.tooltip),d=t.options.show.modal,h=d.effect,p=r?"show":"hide",f=l.is(":visible"),g=i(Se).filter(":visible:not(:animated)").not(u);return c.update(t),r&&d.stealfocus!==E&&n(i(":focus")),l.toggleClass("blurs",d.blur),r&&l.appendTo(e.body),l.is(":animated")&&f===r&&s!==E||!r&&g.length?c:(l.stop(D,E),i.isFunction(h)?h.call(l,r):h===E?l[p]():l.fadeTo(parseInt(a,10)||90,r?1:0,function(){r||l.hide()}),r||l.queue(function(t){l.css({left:"",top:""}),i(Se).length||l.detach(),t()}),s=r,o.destroyed&&(o=M),c)}}),c.init()},Ae=new Ae,i.extend(w.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=Ae.elem,e.addClass(Ne).css("z-index",N.modal_zindex+i(Se).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,n,r){var o=t.originalEvent;if(t.target===e[0])if(o&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(o.type)&&i(o.relatedTarget).closest(Ae.elem[0]).length)try{t.preventDefault()}catch(a){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(t,"tooltipshow"===t.type,r)},this._ns,this),t._bind(e,"tooltipfocus",function(t,n){if(!t.isDefaultPrevented()&&t.target===e[0]){var r=i(Se),o=N.modal_zindex+r.length,a=parseInt(e[0].style.zIndex,10);Ae.elem[0].style.zIndex=o-1,r.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),r.filter("."+Z).qtip("blur",t.originalEvent),e.addClass(Z)[0].style.zIndex=o,Ae.update(n);try{t.preventDefault()}catch(s){}}},this._ns,this),void t._bind(e,"tooltiphide",function(t){t.target===e[0]&&i(Se).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this)):this},toggle:function(t,e,n){return t&&t.isDefaultPrevented()?this:void Ae.toggle(this.qtip,!!e,n)},destroy:function(){this.qtip.tooltip.removeClass(Ne),this.qtip._unbind(this.qtip.tooltip,this._ns),Ae.toggle(this.qtip,E),delete this.qtip.elements.overlay}}),we=W.modal=function(t){return new w(t,t.options.show.modal)},we.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:"undefined"==typeof t.show.modal.on&&(t.show.modal.on=D))},N.modal_zindex=N.zindex-200,we.initialize="render",k.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},i.extend(D,N.defaults,{show:{modal:{on:E,effect:D,blur:D,stealfocus:D,escape:D}}}),W.viewport=function(n,i,r,o,a,s,l){function c(t,e,n,r,o,a,s,l,c){var u=i[o],y=_[t],b=x[t],w=n===H,A=y===o?c:y===a?-c:-c/2,N=b===o?l:b===a?-l:-l/2,S=m[o]+v[o]-(p?0:h[o]),C=S-u,k=u+c-(s===$?f:g)-S,T=A-(_.precedance===t||y===_[e]?N:0)-(b===B?l/2:0);return w?(T=(y===o?1:-1)*A,i[o]+=C>0?C:k>0?-k:0,i[o]=Math.max(-h[o]+v[o],u-T,Math.min(Math.max(-h[o]+v[o]+(s===$?f:g),u+T),i[o],"center"===y?u-A:1e9))):(r*=n===z?2:0,C>0&&(y!==o||k>0)?(i[o]-=T+r,d.invert(t,o)):k>0&&(y!==a||C>0)&&(i[o]-=(y===B?-T:T)+r,d.invert(t,a)),i[o]<m&&-i[o]>k&&(i[o]=u,d=_.clone())),i[o]-u}var u,d,h,p,f,g,m,v,y=r.target,b=n.elements.tooltip,_=r.my,x=r.at,w=r.adjust,A=w.method.split(" "),N=A[0],S=A[1]||A[0],C=r.viewport,k=r.container,T=(n.cache,{left:0,top:0});return C.jquery&&y[0]!==t&&y[0]!==e.body&&"none"!==w.method?(h=k.offset()||T,p="static"===k.css("position"),u="fixed"===b.css("position"),f=C[0]===t?C.width():C.outerWidth(E),g=C[0]===t?C.height():C.outerHeight(E),m={left:u?0:C.scrollLeft(),top:u?0:C.scrollTop()},v=C.offset()||T,("shift"!==N||"shift"!==S)&&(d=_.clone()),T={left:"none"!==N?c(I,P,N,w.x,O,j,$,o,s):0,top:"none"!==S?c(P,I,S,w.y,R,F,L,a,l):0,my:d}):T},W.polys={polygon:function(t,e){var n,i,r,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:E},a=0,s=[],l=1,c=1,u=0,d=0;for(a=t.length;a--;)n=[parseInt(t[--a],10),parseInt(t[a+1],10)],n[0]>o.position.right&&(o.position.right=n[0]),n[0]<o.position.left&&(o.position.left=n[0]),n[1]>o.position.bottom&&(o.position.bottom=n[1]),n[1]<o.position.top&&(o.position.top=n[1]),s.push(n);if(i=o.width=Math.abs(o.position.right-o.position.left),r=o.height=Math.abs(o.position.bottom-o.position.top),"c"===e.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;i>0&&r>0&&l>0&&c>0;)for(i=Math.floor(i/2),r=Math.floor(r/2),e.x===O?l=i:e.x===j?l=o.width-i:l+=Math.floor(i/2),e.y===R?c=r:e.y===F?c=o.height-r:c+=Math.floor(r/2),a=s.length;a--&&!(s.length<2);)u=s[a][0]-o.position.left,d=s[a][1]-o.position.top,(e.x===O&&u>=l||e.x===j&&l>=u||e.x===B&&(l>u||u>o.width-l)||e.y===R&&d>=c||e.y===F&&c>=d||e.y===B&&(c>d||d>o.height-c))&&s.splice(a,1);o.position={left:s[0][0],top:s[0][1]}}return o},rect:function(t,e,n,i){return{width:Math.abs(n-t),height:Math.abs(i-e),position:{left:Math.min(t,n),top:Math.min(e,i)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,n,i,r){var o=W.polys._angles[r.abbrev()],a=0===o?0:n*Math.cos(o*Math.PI),s=i*Math.sin(o*Math.PI);return{width:2*n-Math.abs(a),height:2*i-Math.abs(s),position:{left:t+a,top:e+s},adjustable:E}},circle:function(t,e,n,i){return W.polys.ellipse(t,e,n,n,i)}},W.svg=function(t,n,r){for(var o,a,s,l,c,u,d,h,p,f=(i(e),n[0]),g=i(f.ownerSVGElement),m=f.ownerDocument,v=(parseInt(n.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return E;switch(f.nodeName){case"ellipse":case"circle":h=W.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,r);break;case"line":case"polygon":case"polyline":for(d=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}],h=[],u=-1,l=d.numberOfItems||d.length;++u<l;)c=d.getItem?d.getItem(u):d[u],h.push.apply(h,[c.x,c.y]);h=W.polys.polygon(h,r);break;default:h=f.getBBox(),h={width:h.width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,g=g[0],g.createSVGPoint&&(a=f.getScreenCTM(),d=g.createSVGPoint(),d.x=p.left,d.y=p.top,s=d.matrixTransform(a),p.left=s.x,p.top=s.y),m!==e&&"mouse"!==t.position.target&&(o=i((m.defaultView||m.parentWindow).frameElement).offset(),o&&(p.left+=o.left,p.top+=o.top)),m=i(m),p.left+=m.scrollLeft(),p.top+=m.scrollTop(),h},W.imagemap=function(t,e,n){e.jquery||(e=i(e));var r,o,a,s,l,c=(e.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),u=i('img[usemap="#'+e.parent("map").attr("name")+'"]'),d=i.trim(e.attr("coords")),h=d.replace(/,$/,"").split(",");if(!u.length)return E;if("polygon"===c)s=W.polys.polygon(h,n);else{if(!W.polys[c])return E;for(a=-1,l=h.length,o=[];++a<l;)o.push(parseInt(h[a],10));s=W.polys[c].apply(this,o.concat(n))}return r=u.offset(),r.left+=Math.ceil((u.outerWidth(E)-u.width())/2),r.top+=Math.ceil((u.outerHeight(E)-u.height())/2),s.position.left+=r.left,s.position.top+=r.top,s};var Ce,ke='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';i.extend(A.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=i(t).scrollTop()+"px")},init:function(n){var r=n.tooltip;i("select, object").length<1&&(this.bgiframe=n.elements.bgiframe=i(ke).appendTo(r),n._bind(r,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:q+"-rcontainer"}).appendTo(e.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(t,["scroll","resize"],this._scroll,this._ns,this),n._bind(r,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,n=this.qtip.tooltip,i={height:n.outerHeight(E),width:n.outerWidth(E)},r=this.qtip.plugins.tip,o=this.qtip.elements.tip;e=parseInt(n.css("borderLeftWidth"),10)||0,e={left:-e,top:-e},r&&o&&(t="x"===r.corner.precedance?[$,O]:[L,R],e[t[1]]-=o[t[0]]()),this.bgiframe.css(e).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,n,i,r=this.qtip.tooltip,o=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&r.css(L,o.height),o.width?r.css($,o.width):(r.css($,"").appendTo(this.redrawContainer),e=r.width(),1>e%2&&(e+=1),n=r.css("maxWidth")||"",i=r.css("minWidth")||"",t=(n+i).indexOf("%")>-1?a.width()/100:0,n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||e,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0,e=n+i?Math.min(Math.max(e,i),n):e,r.css($,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),Ce=W.ie6=function(t){return 6===ie.ie?new A(t):E},Ce.initialize="render",k.ie6={"^content|style$":function(){this.redraw()}}})}(window,document);